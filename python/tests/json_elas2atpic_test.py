#!/usr/bin/python3
import unittest
import atpic.json_elas2atpic

class json_test(unittest.TestCase):

    def test_facet_display(self):
        facet_list=[b'7', b'macrod40', b'nathalie', b'for_sale', b'people', b'screen_shots', b'italia2006', b'avignon', b'nikond40', b'testp']
        json=b'{"responses":[{"took":6,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":9,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"61","_score":1.0,"fields":{"uid":1,"servershort":"alex","price":0.03,"ptitle":"","gid":7,"yearmonthdaytime":"20031230121556000000","pid":61,"gtitle":"Paris","mode":"b","originalname":"Immagine_136.jpg"}}]}},{"took":6,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":40,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"482777","_score":1.0,"fields":{"uid":1,"servershort":"alex","price":0.0,"ptitle":"","gid":12008,"yearmonthdaytime":"20070511092838000000","pid":482777,"gtitle":"Macro with Nikon D40","mode":"b","originalname":"dsc_0038.jpg"}}]}},{"took":6,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":16,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"1011655","_score":1.0,"fields":{"uid":1,"servershort":"alex","price":0.0,"ptitle":"","gid":21716,"yearmonthdaytime":"20080801162818000000","pid":1011655,"gtitle":"Nathalie","mode":"b","originalname":"dsc_0028.jpg"}}]}},{"took":17,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":12,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"874007","_score":1.0,"fields":{"uid":1,"servershort":"alex","price":0.0,"ptitle":"","gid":19859,"yearmonthdaytime":"20080320132629000000","pid":874007,"gtitle":"For sale","mode":"b","originalname":"photo0006.jpeg"}}]}},{"took":9,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":2,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"1180781","_score":1.0,"fields":{"uid":1,"servershort":"alex","location.lon":9.50948,"price":0.0,"ptitle":"","gid":23109,"yearmonthdaytime":"20090101001025000000","pid":1180781,"location.lat":56.1646,"gtitle":"","mode":"b","originalname":"test_exif_geo.jpg"}}]}},{"took":8,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":3,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"2067499","_score":1.0,"fields":{"uid":1,"servershort":"alex","price":0.0,"ptitle":"corsica","gid":38764,"yearmonthdaytime":"20101227105126554137","pid":2067499,"gtitle":"screen shots","mode":"b","originalname":"corsica1.jpg"}}]}},{"took":5,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":199,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"291607","_score":1.0,"fields":{"uid":1,"servershort":"alex","location.lon":11.2535,"price":0.03,"ptitle":"","gid":7701,"yearmonthdaytime":"20060708193120000000","pid":291607,"location.lat":43.7684,"gtitle":"Firenze","mode":"b","originalname":"immagine_329.jpg"}}]}},{"took":8,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":29,"max_score":1.0,"hits":[{"_index":"atpic","_type":"pic","_id":"2579571","_score":1.0,"fields":{"uid":1,"servershort":"alex","datestore0":"2012-11-26T20:15:29.694Z","datestore600":"2012-11-26T20:15:29.694Z","pid":2579571,"gtitle":"Macro","datestore160":"2012-11-26T20:15:29.694Z","mode":"b","datestore350":"2012-11-26T20:15:29.694Z","price":0.12,"datestore1024":"2012-11-26T20:15:29.694Z","ptitle":"","gid":1,"datestore70":"2012-11-26T20:15:29.694Z","originalname":""}}]}},{"took":4,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":0,"max_score":null,"hits":[]}},{"took":4,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":0,"max_score":null,"hits":[]}}]}'
        aid=b'1'

        xml=atpic.json_elas2atpic.display_facets(facet_list,json,aid)


    def NOtest_display(self):
        json=b"""{"took":66,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":295,"max_score":0.65809554,"hits":[{"_index":"atpic","_type":"pic","_id":"22","_score":0.65809554, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "51.0",
"price" : "0.32999999999999996",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "avignon avignon papes avignon palais avignon img 0233s jpg",
"location" : { "lat" : 43.9486, "lon" : 4.80789},
"coord_2" : "12",
"coord_3" : "50",
"coord_4" : "-54",
"coord_5" : "810",
"coord_6" : "3242",
"coord_7" : "12971",
"coord_8" : "-13651",
"coord_9" : "207540",
"coord_10" : "830163",
"coord_11" : "3320655",
"coord_12" : "13282622",
"coord_13" : "53130491",
"coord_14" : "212523332",
"coord_15" : "850093329",
"coord_16" : "-894593979",
"coord_17" : "13601493276",
"coord_18" : "54405973104",
"coord_19" : "217623892419",
"coord_20" : "870495569677",
"coord_21" : "3481982278717",
"coord_22" : "13927929114869",
"coord_23" : "55711716459477",
"coord_24" : "222846865837917",
"coord_25" : "891387463351669",
"gtitle" : "Avignon",
"ptitle" : "",
"year" : "2003",
"yearmonth" : "200310",
"yearmonthday" : "20031026",
"yearmonthdaytime" : "20031026162713000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-32",
"make" : "Canon",
"focallength" : "519/32",
"model" : "Canon PowerShot A60",
"speed" : "-51",
"randoms" : "a a a a a a a a a a a a a a a b b c c e e e e e e e e e e e e e e e e e e e g g g h h h h h h h h h i i i i i i i i i i i i i i i i i j j j j j j j k k",
"originalname" : "IMG_0233s.JPG",
"gpath" : "avignon",
"dir_0" : "/avignon",
"uid" : "1",
"gid" : "3",
"pid" : "22"
},"fields":{"uid":1,"servershort":"alex","location.lon":4.80789,"price":0.33,"ptitle":"","gid":3,"yearmonthdaytime":"20031026162713000000","pid":22,"location.lat":43.9486,"gtitle":"Avignon","originalname":"IMG_0233s.JPG"}},{"_index":"atpic","_type":"pic","_id":"291661","_score":0.65534806, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "6.0",
"price" : "0.03",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "morlupo italia 9sett 2006 matrimonio gabriela e christopher wwww maurizio christopher gabriela matrimonio italia2006 matrimonio immagine 384 jpg",
"location" : { "lat" : 42.1469, "lon" : 12.4976},
"coord_2" : "12",
"coord_3" : "50",
"coord_4" : "-54",
"coord_5" : "811",
"coord_6" : "3244",
"coord_7" : "12978",
"coord_8" : "-13622",
"coord_9" : "207659",
"coord_10" : "830639",
"coord_11" : "3322559",
"coord_12" : "13290236",
"coord_13" : "53160946",
"coord_14" : "212643808",
"coord_15" : "850575233",
"coord_16" : "-892666363",
"coord_17" : "13609203740",
"coord_18" : "54436814960",
"coord_19" : "217747259842",
"coord_20" : "870989039371",
"coord_21" : "3483956157485",
"coord_22" : "13935824629943",
"coord_23" : "55743298519775",
"coord_24" : "222973194079102",
"coord_25" : "891892776316410",
"gtitle" : "Matrimonio Gabriela e Christopher",
"ptitle" : "",
"year" : "2006",
"yearmonth" : "200607",
"yearmonthday" : "20060710",
"yearmonthdaytime" : "20060710230127000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-65",
"make" : "Canon",
"focallength" : "173/32",
"model" : "Canon PowerShot A60",
"speed" : "-34",
"randoms" : "a a a a a a a a a a a a a a a a a a a b b b b b b b b b b b b c c c c c c c d d d d d f f f f g g g g g g i i i i i i i i i i i i i j j k k k k k k k k k k",
"originalname" : "immagine_384.jpg",
"gpath" : "italia2006/matrimonio",
"dir_0" : "/italia2006",
"dir_1" : "/italia2006/matrimonio",
"uid" : "1",
"gid" : "7699",
"pid" : "291661"
},"fields":{"uid":1,"servershort":"alex","location.lon":12.4976,"price":0.03,"ptitle":"","gid":7699,"yearmonthdaytime":"20060710230127000000","pid":291661,"location.lat":42.1469,"gtitle":"Matrimonio Gabriela e Christopher","originalname":"immagine_384.jpg"}},{"_index":"atpic","_type":"pic","_id":"291688","_score":0.61435515, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "5.0",
"price" : "0.03",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "morlupo italia 9sett 2006 matrimonio gabriela e christopher wwww maurizio christopher gabriela matrimonio italia2006 matrimonio immagine 413 jpg",
"location" : { "lat" : 42.1469, "lon" : 12.4976},
"coord_2" : "12",
"coord_3" : "50",
"coord_4" : "-54",
"coord_5" : "811",
"coord_6" : "3244",
"coord_7" : "12978",
"coord_8" : "-13622",
"coord_9" : "207659",
"coord_10" : "830639",
"coord_11" : "3322559",
"coord_12" : "13290236",
"coord_13" : "53160946",
"coord_14" : "212643808",
"coord_15" : "850575233",
"coord_16" : "-892666363",
"coord_17" : "13609203740",
"coord_18" : "54436814960",
"coord_19" : "217747259842",
"coord_20" : "870989039371",
"coord_21" : "3483956157485",
"coord_22" : "13935824629943",
"coord_23" : "55743298519775",
"coord_24" : "222973194079102",
"coord_25" : "891892776316410",
"gtitle" : "Matrimonio Gabriela e Christopher",
"ptitle" : "",
"year" : "2006",
"yearmonth" : "200607",
"yearmonthday" : "20060710",
"yearmonthdaytime" : "20060710235215000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-65",
"make" : "Canon",
"focallength" : "173/32",
"model" : "Canon PowerShot A60",
"speed" : "-34",
"randoms" : "a a a a a a a a a a a a b b b b b c d f f f f f f f f g g g g h h h h h h h h h h h h i i i i i i i i i i i i i i i i j j k k k k k k k k k k k k k k k",
"originalname" : "immagine_413.jpg",
"gpath" : "italia2006/matrimonio",
"dir_0" : "/italia2006",
"dir_1" : "/italia2006/matrimonio",
"uid" : "1",
"gid" : "7699",
"pid" : "291688"
},"fields":{"uid":1,"servershort":"alex","location.lon":12.4976,"price":0.03,"ptitle":"","gid":7699,"yearmonthdaytime":"20060710235215000000","pid":291688,"location.lat":42.1469,"gtitle":"Matrimonio Gabriela e Christopher","originalname":"immagine_413.jpg"}},{"_index":"atpic","_type":"pic","_id":"63","_score":0.6121572, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "86.0",
"price" : "0.03",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "paris paris 7 immagine 145 jpg",
"gtitle" : "Paris",
"ptitle" : "",
"year" : "2003",
"yearmonth" : "200312",
"yearmonthday" : "20031230",
"yearmonthdaytime" : "20031230160650000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-65",
"make" : "Canon",
"focallength" : "173/32",
"model" : "Canon PowerShot A60",
"speed" : "-66",
"randoms" : "a a a a a a a a a a a a a a a a a b b b b b b c d f f f f f f f f f f f f f f f g g g g g g g g g g g h h i i i i i i i i i i i j j j j j j j j j j j j j j j j j j k",
"originalname" : "Immagine_145.jpg",
"gpath" : "7",
"dir_0" : "/7",
"uid" : "1",
"gid" : "7",
"pid" : "63"
},"fields":{"uid":1,"servershort":"alex","price":0.03,"ptitle":"","gid":7,"yearmonthdaytime":"20031230160650000000","pid":63,"gtitle":"Paris","originalname":"Immagine_145.jpg"}},{"_index":"atpic","_type":"pic","_id":"291566","_score":0.59829915, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "2.0",
"price" : "0.03",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "firenze firenze italia2006 firenze immagine 288 jpg",
"location" : { "lat" : 43.7684, "lon" : 11.2535},
"coord_2" : "12",
"coord_3" : "50",
"coord_4" : "-54",
"coord_5" : "810",
"coord_6" : "3243",
"coord_7" : "12973",
"coord_8" : "-13635",
"coord_9" : "207605",
"coord_10" : "830421",
"coord_11" : "3321687",
"coord_12" : "13297674",
"coord_13" : "53190698",
"coord_14" : "212762794",
"coord_15" : "851051178",
"coord_16" : "-890762582",
"coord_17" : "13616818857",
"coord_18" : "54467275436",
"coord_19" : "217869101745",
"coord_20" : "871476406982",
"coord_21" : "3485905627928",
"coord_22" : "13943622511714",
"coord_23" : "55774490046859",
"coord_24" : "223097960187437",
"coord_25" : "892391840749748",
"gtitle" : "Firenze",
"ptitle" : "",
"year" : "2006",
"yearmonth" : "200607",
"yearmonthday" : "20060708",
"yearmonthdaytime" : "20060708105846000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-32",
"make" : "Canon",
"focallength" : "519/32",
"model" : "Canon PowerShot A60",
"speed" : "-74",
"randoms" : "a a a a a a a a a a a a a a a a a a a b b b b b b b b b b b b b b c c c c c c c c c c c c c c c c d e e e e e e f f f f g g g g g g h i i i i i i i i i i i i i i i i i j j j j j j j j j j j j j j j j j k k k k k",
"originalname" : "immagine_288.jpg",
"gpath" : "italia2006/firenze",
"dir_0" : "/italia2006",
"dir_1" : "/italia2006/firenze",
"uid" : "1",
"gid" : "7701",
"pid" : "291566"
},"fields":{"uid":1,"servershort":"alex","location.lon":11.2535,"price":0.03,"ptitle":"","gid":7701,"yearmonthdaytime":"20060708105846000000","pid":291566,"location.lat":43.7684,"gtitle":"Firenze","originalname":"immagine_288.jpg"}},{"_index":"atpic","_type":"pic","_id":"2","_score":0.59011245, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "165.0",
"price" : "0.42",
"mode" : "b",
"friends" : ["2","3","4","77"],
"phrases" : "some macro photos i took with my powershot macro hello powershot araignee macro with some photos took tag lolo hochzeit060609 three you video making gives uploaded real steps simple and yourself across your appearance anywhere world watch wanna uploading chance avignon 1 img 0053 jpg",
"gtitle" : "Macro",
"ptitle" : "",
"year" : "2003",
"yearmonth" : "200310",
"yearmonthday" : "20031025",
"yearmonthdaytime" : "20031025122011000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-36",
"make" : "Canon",
"focallength" : "430/32",
"model" : "Canon PowerShot A60",
"speed" : "-34",
"randoms" : "a a a a a a a a a a a a a a a a a a b b b b b c c c c c c c c c c c d d d d d d d d d f f f f f f f f g g g g g g g g g g g g g g g g g h i i i i i i i i i i i i i i i i i j j j j j j j j j j j j j j k k k k k k",
"originalname" : "IMG_0053.JPG",
"gpath" : "avignon/1",
"dir_0" : "/avignon",
"dir_1" : "/avignon/1",
"uid" : "1",
"gid" : "1",
"pid" : "2"
},"fields":{"uid":1,"servershort":"alex","price":0.42,"ptitle":"","gid":1,"yearmonthdaytime":"20031025122011000000","pid":2,"gtitle":"Macro","originalname":"IMG_0053.JPG"}},{"_index":"atpic","_type":"pic","_id":"291741","_score":0.5762271, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "7.0",
"price" : "0.03",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "morlupo italia 9sett 2006 matrimonio gabriela e christopher wwww maurizio christopher gabriela matrimonio italia2006 matrimonio immagine 464 jpg",
"location" : { "lat" : 42.1469, "lon" : 12.4976},
"coord_2" : "12",
"coord_3" : "50",
"coord_4" : "-54",
"coord_5" : "811",
"coord_6" : "3244",
"coord_7" : "12978",
"coord_8" : "-13622",
"coord_9" : "207659",
"coord_10" : "830639",
"coord_11" : "3322559",
"coord_12" : "13290236",
"coord_13" : "53160946",
"coord_14" : "212643808",
"coord_15" : "850575233",
"coord_16" : "-892666363",
"coord_17" : "13609203740",
"coord_18" : "54436814960",
"coord_19" : "217747259842",
"coord_20" : "870989039371",
"coord_21" : "3483956157485",
"coord_22" : "13935824629943",
"coord_23" : "55743298519775",
"coord_24" : "222973194079102",
"coord_25" : "891892776316410",
"gtitle" : "Matrimonio Gabriela e Christopher",
"ptitle" : "",
"year" : "2006",
"yearmonth" : "200607",
"yearmonthday" : "20060711",
"yearmonthdaytime" : "20060711000029000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-65",
"make" : "Canon",
"focallength" : "173/32",
"model" : "Canon PowerShot A60",
"speed" : "-34",
"randoms" : "a a a a a a a a a c c c c c c c d d d e e f f f f f g g h h h h h h h h h h i i i i i i i i i i i i i i i i j j j j j j j j j j j j k k k k k k k k k k k k k",
"originalname" : "immagine_464.jpg",
"gpath" : "italia2006/matrimonio",
"dir_0" : "/italia2006",
"dir_1" : "/italia2006/matrimonio",
"uid" : "1",
"gid" : "7699",
"pid" : "291741"
},"fields":{"uid":1,"servershort":"alex","location.lon":12.4976,"price":0.03,"ptitle":"","gid":7699,"yearmonthdaytime":"20060711000029000000","pid":291741,"location.lat":42.1469,"gtitle":"Matrimonio Gabriela e Christopher","originalname":"immagine_464.jpg"}},{"_index":"atpic","_type":"pic","_id":"291550","_score":0.5730262, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "2.0",
"price" : "0.03",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "firenze firenze italia2006 firenze immagine 335 jpg",
"location" : { "lat" : 43.7684, "lon" : 11.2535},
"coord_2" : "12",
"coord_3" : "50",
"coord_4" : "-54",
"coord_5" : "810",
"coord_6" : "3243",
"coord_7" : "12973",
"coord_8" : "-13635",
"coord_9" : "207605",
"coord_10" : "830421",
"coord_11" : "3321687",
"coord_12" : "13297674",
"coord_13" : "53190698",
"coord_14" : "212762794",
"coord_15" : "851051178",
"coord_16" : "-890762582",
"coord_17" : "13616818857",
"coord_18" : "54467275436",
"coord_19" : "217869101745",
"coord_20" : "871476406982",
"coord_21" : "3485905627928",
"coord_22" : "13943622511714",
"coord_23" : "55774490046859",
"coord_24" : "223097960187437",
"coord_25" : "892391840749748",
"gtitle" : "Firenze",
"ptitle" : "",
"year" : "2006",
"yearmonth" : "200607",
"yearmonthday" : "20060708",
"yearmonthdaytime" : "20060708195728000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-65",
"make" : "Canon",
"focallength" : "173/32",
"model" : "Canon PowerShot A60",
"speed" : "-34",
"randoms" : "a a a a a a a a a a a a a a a a c c c c c c c c c c c c c c c c e e e e e e e e e e f f f f f f f g g h h h h h h h h h h h h h i i i i i i i i i i i i i i i i i j j j j k k k k k k k k k k k k k",
"originalname" : "immagine_335.jpg",
"gpath" : "italia2006/firenze",
"dir_0" : "/italia2006",
"dir_1" : "/italia2006/firenze",
"uid" : "1",
"gid" : "7701",
"pid" : "291550"
},"fields":{"uid":1,"servershort":"alex","location.lon":11.2535,"price":0.03,"ptitle":"","gid":7701,"yearmonthdaytime":"20060708195728000000","pid":291550,"location.lat":43.7684,"gtitle":"Firenze","originalname":"immagine_335.jpg"}},{"_index":"atpic","_type":"pic","_id":"481220","_score":0.5729959, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "7.0",
"price" : "0.0",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "macro with nikon d40 macrod40 dsc 0084 jpg",
"gtitle" : "Macro with Nikon D40",
"ptitle" : "",
"year" : "2007",
"yearmonth" : "200705",
"yearmonthday" : "20070509",
"yearmonthdaytime" : "20070509163335000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "0",
"make" : "NIKON CORPORATION",
"focallength" : "1050/10",
"model" : "NIKON D40",
"speed" : "-46",
"randoms" : "a a a a a a a a a a a a a a a a a b c c c c c c d d d d d d e e e e e e f f f f f f f f f f f f f f f g g g g g g g g h h h h h h h h i i i i i i i i i i i i i i i i j j j j k k k k k k k k k k k k k k k k k k",
"originalname" : "dsc_0084.jpg",
"gpath" : "macrod40",
"dir_0" : "/macrod40",
"uid" : "1",
"gid" : "12008",
"pid" : "481220"
},"fields":{"uid":1,"servershort":"alex","price":0.0,"ptitle":"","gid":12008,"yearmonthdaytime":"20070509163335000000","pid":481220,"gtitle":"Macro with Nikon D40","originalname":"dsc_0084.jpg"}},{"_index":"atpic","_type":"pic","_id":"291650","_score":0.5724379, "_source" : {
"username" : "Alex M",
"servershort" : "alex",
"popularity" : "5.0",
"price" : "0.03",
"mode" : "b",
"friends" : ["2","3"],
"phrases" : "morlupo italia 9sett 2006 matrimonio gabriela e christopher wwww maurizio christopher gabriela matrimonio italia2006 matrimonio immagine 373 jpg",
"location" : { "lat" : 42.1469, "lon" : 12.4976},
"coord_2" : "12",
"coord_3" : "50",
"coord_4" : "-54",
"coord_5" : "811",
"coord_6" : "3244",
"coord_7" : "12978",
"coord_8" : "-13622",
"coord_9" : "207659",
"coord_10" : "830639",
"coord_11" : "3322559",
"coord_12" : "13290236",
"coord_13" : "53160946",
"coord_14" : "212643808",
"coord_15" : "850575233",
"coord_16" : "-892666363",
"coord_17" : "13609203740",
"coord_18" : "54436814960",
"coord_19" : "217747259842",
"coord_20" : "870989039371",
"coord_21" : "3483956157485",
"coord_22" : "13935824629943",
"coord_23" : "55743298519775",
"coord_24" : "222973194079102",
"coord_25" : "891892776316410",
"gtitle" : "Matrimonio Gabriela e Christopher",
"ptitle" : "",
"year" : "2006",
"yearmonth" : "200607",
"yearmonthday" : "20060710",
"yearmonthdaytime" : "20060710211825000000",
"mimetype" : "",
"mimesubtype" : "",
"f" : "-65",
"make" : "Canon",
"focallength" : "173/32",
"model" : "Canon PowerShot A60",
"speed" : "-34",
"randoms" : "a a a a a a a a a a a a a a a a a a b b b b b b c c c c d d d d d d d d d d d d d d d d d d d e e e e e e f f f f f f f f f f f g h h h h h h i i i i i i i i i i i i i i i j j j j j k k k k k k k k",
"originalname" : "immagine_373.jpg",
"gpath" : "italia2006/matrimonio",
"dir_0" : "/italia2006",
"dir_1" : "/italia2006/matrimonio",
"uid" : "1",
"gid" : "7699",
"pid" : "291650"
},"fields":{"uid":1,"servershort":"alex","location.lon":12.4976,"price":0.03,"ptitle":"","gid":7699,"yearmonthdaytime":"20060710211825000000","pid":291650,"location.lat":42.1469,"gtitle":"Matrimonio Gabriela e Christopher","originalname":"immagine_373.jpg"}}]}}
"""
        aid=b'1'
        xml=atpic.json_elas2atpic.display(json,aid)
        print(xml)
    # self.assertEqual(res,ex)

    def test_display_onepic(self):


        inputs=[
            ({b'servershort': b'alex', b'yearmonthdaytime': b'20080804143413000000', b'pathstore_r160': b'arnh_WH8ybue_sm8ilnN9IxcMO6Xy1lUIeDIhOKeEAr0=.jpg', b'pathstore_r1024': b'aDd3juXIVEwuR9HkXtjPIwC7Od44FI6YehZl513Qi6di_fhvs_XOe0g==.jpg', b'price': b'0.0', b'pid': b'1011661', b'pathstore_r70': b'aE48QRlnDP-R3_-Jp6CPW_niL4dDWt3S1zVuHW1xaXg0=.jpg', b'pathstore_r600': b'a-Fq4rg6GQBUXxVoKuItCuzcyRhA_jtAK5yRsiIKF-TQ=.jpg', b'ptitle': b'', b'mode': b'b', b'originalname': b'dsc_0248.jpg', b'gid': b'21716', b'pathstore_r350': b'aXHUrGVoMUFEH4ut__u5wVVdkG2cpNTgOFhR_v-62LDo=.jpg', b'gtitle': b'Nathalie', b'uid': b'1'}, b'', 3, False, [b'http://atpic.faa/news'], {}),

            # ERROR!!!!!!!! list instead of bytes

            ({b'servershort': [b'benjimx16'], b'ptitle': [b''], b'originalname': [b'IMG_4124-border-border.jpg'], b'pathstore_r70': [b'bKGCSeFj5M0FO5Ct5rLDOCYViU5rtd1YaYtkRKf1s1iaZEgowHWxHRg==.jpg'], b'price': [b'0.03'], b'gtitle': [b'#1 Romagn\xc3\xa9 (Elite 2012)'], b'uid': [b'3871'], b'pid': [b'2423515'], b'pathstore_r350': [b'blprJyVoLFCovJj8G7PCbpUJNDlbwzATQ30S4CJlDmfP1Jx7BZvvjyQ==.jpg'], b'gid': [b'47736'], b'mode': [b'b'], b'pathstore_r160': [b'bUnmAFcGKNlH025FqTde6ICfDrPHEztMrx-lM5Zk1ipq4nsA5N9d8iA==.jpg'], b'yearmonthdaytime': [b'20120304124311000000']}, b'', 1, False, [b'http://atpic.com/news'],{}),
]


        for (fields,aid,rank,docompo,compolist,environ) in inputs:
            print('inpiut=',(fields,aid,rank,docompo,compolist,environ))
            (xml,compolist)=atpic.json_elas2atpic.display_onepic(fields,aid,rank,docompo,compolist,environ)
            print('YYY=',(xml,compolist))

if __name__ == "__main__":
    unittest.main()
